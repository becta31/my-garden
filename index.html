<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>My Garden ERP</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#27ae60" />
  <link rel="apple-touch-icon" href="https://img.icons8.com/fluency/192/potted-plant.png" />

  <!-- üëá –≤–∞–∂–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö safe-area -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
</head>

<body>
  <div class="app-container">

    <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <nav class="main-nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
      <button class="nav-btn active" id="btn-today" type="button" onclick="showView('today')">
        üìÖ –ü–ª–∞–Ω
      </button>
      <button class="nav-btn" id="btn-collection" type="button" onclick="showView('collection')">
        ü™¥ –°–∞–¥
      </button>
      <button class="nav-btn" id="btn-year" type="button" onclick="showView('year')">
        üìä –ì–æ–¥
      </button>
    </nav>

    <!-- TODAY -->
    <section id="view-today" class="view-section" aria-label="–ü–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è">
      <div class="calendar-sheet">

        <div class="header-red">
          <span id="monthName">–ú–ï–°–Ø–¶</span>
          <span id="yearNum">2026</span>
        </div>

        <div class="day-number" id="dayNum">00</div>
        <div class="day-name" id="dayName">–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏</div>

        <div class="divider"></div>

        <div class="label">–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:</div>

        <!-- ‚úÖ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–¥–∞—á -->
        <div id="todayTasks" class="tasks-list" aria-live="polite">
          <div class="empty-state">
            <div class="empty-emoji">üåø</div>
            <div class="empty-title">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</div>
            <div class="empty-text">–ï—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è –Ω–µ—Ç –ø–æ–ª–∏–≤–∞ ‚Äî –æ—Ç–¥—ã—Ö–∞–µ–º üôÇ</div>
          </div>
        </div>

      </div>
    </section>

    <!-- COLLECTION -->
    <section id="view-collection" class="view-section" style="display:none;">
      <div id="collectionList" class="collection-grid"></div>
    </section>

    <!-- YEAR -->
    <section id="view-year" class="view-section" style="display:none;">
      <div class="table-wrapper">
        <table>
          <thead>
            <tr id="tableHeader"></tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>

      <div class="legend-mini">
        <span>üíä –ü–æ–∫–æ—Ä–º–∏—Ç—å</span>
        <span>‚úÇÔ∏è –û–±—Ä–µ–∑–∞—Ç—å</span>
        <span>ü™¥ –ü–µ—Ä–µ—Å–∞–¥–∏—Ç—å</span>
      </div>
    </section>

  </div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script defer src="data.js"></script>
  <script defer src="script.js"></script>

  <script>
    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(() => console.log('SW Registered'))
          .catch(err => console.log('SW Error:', err));
      });
    }

    // —Å—Ç–∞—Ä—Ç
    document.addEventListener('DOMContentLoaded', () => {
      if (typeof updateCalendar === 'function') updateCalendar();
    });
  </script>
</body>
</html>
