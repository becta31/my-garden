<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>My Garden ERP</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#27ae60" />
  <link rel="apple-touch-icon" href="https://img.icons8.com/fluency/192/potted-plant.png" />
</head>

<body>
  <div class="app-container">

    <nav class="main-nav" aria-label="ะะฐะฒะธะณะฐัะธั">
      <button class="nav-btn active" id="btn-today" type="button" onclick="showView('today')">๐ ะะปะฐะฝ</button>
      <button class="nav-btn" id="btn-collection" type="button" onclick="showView('collection')">๐ชด ะกะฐะด</button>
      <button class="nav-btn" id="btn-year" type="button" onclick="showView('year')">๐ ะะพะด</button>
    </nav>

    <section id="view-today" class="view-section" aria-label="ะะปะฐะฝ ะฝะฐ ัะตะณะพะดะฝั">
      <div class="calendar-sheet">

        <div class="header-red">
          <span id="monthName">ะะะกะฏะฆ</span>
          <span id="yearNum">2026</span>
        </div>

        <div class="day-number" id="dayNum">00</div>
        <div class="day-name" id="dayName">ะะตะฝั ะฝะตะดะตะปะธ</div>

        <div class="divider"></div>

        <div class="label">ะะฐะดะฐัะธ ะฝะฐ ัะตะณะพะดะฝั:</div>

        <div id="todayTasks" class="tasks-list" aria-live="polite" style="margin-top: 15px;">
          <div class="empty-state">
            <div class="empty-emoji">๐ฟ</div>
            <div class="empty-title">ะะพะบะฐ ะฟัััะพ</div>
            <div class="empty-text">ะัะปะธ ัะตะณะพะดะฝั ะฝะตั ะฟะพะปะธะฒะฐ โ ะพัะดััะฐะตะผ ๐</div>
          </div>
        </div>

      </div>
    </section>

    <section id="view-collection" class="view-section" style="display:none;">
      <div id="collectionList" class="collection-grid"></div>
    </section>

    <section id="view-year" class="view-section" style="display:none;">
      <div class="table-wrapper">
        <table>
          <thead>
            <tr id="tableHeader"></tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>

      <div class="legend-mini">
        <span>๐ ะะพะบะพัะผะธัั</span>
        <span>โ๏ธ ะะฑัะตะทะฐัั</span>
        <span>๐ชด ะะตัะตัะฐะดะธัั</span>
      </div>
    </section>

  </div>

  <script defer src="data.js"></script>
  <script defer src="script.js"></script>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(() => console.log('SW Registered'))
          .catch(err => console.log('SW Error:', err));
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      if (typeof updateCalendar === 'function') updateCalendar();
    });
  </script>
</body>
</html>
